<%- include('../../include/header') %>
    <%- include('../../include/navbar') %>

    <div class="p-8 min-h-screen mx-auto <%= userData.isAdmin ? 'bg-[#1d222b] text-white' : '' %>">
        <h1 class="text-4xl">Admin Dashboard</h1>
        <hr class="my-3">
        <div class="mt-3 bg-white/10 p-6 rounded-lg">
            <h4 class="font-bold text-2xl"><u>รายการร้านอาหารทั้งหมด</u></h4>
            <div class="pl-8">
                <% restaurants.forEach(restaurant => { %>
                    <div class="mt-4 w-[80%] bg-[#201c34] p-4 rounded shadow">
                        <h4 class="text-xl"><%= restaurant.name %></h4>
                        <hr class="my-2">
                        <h4 class="text-lg underline">ข้อมูล</h4>
                        <div class="pl-4 mt-2">
                            <p class="text-sm">เบอร์โทรศัพท์ : <%= restaurant.phoneNumber %></p>
                            <p class="text-sm">ที่ตั้ง : <%= restaurant.address %></p>
                            <% if (restaurant.ggMapsLink) { %>
                                <p class="text-sm">Google Maps : <a class="hover:text-sky-400 hover:underline" href="<%= restaurant.ggMapsLink %>">ไปยัง Google Maps</a></p>
                            <% } %>
                            <% if (restaurant.imageUrl) { %>
                                <p class="text-sm">รูปภาพโลโกร้าน : <a class="hover:text-sky-400 hover:underline" href="/uploads/<%= restaurant.imageUrl %>">(คลิกเพื่อดูรูป)</a></p>
                            <% } else { %>
                                <p class="text-sm">รูปภาพโลโกร้าน : <span class="text-red-300">(ไม่มีการเพิ่มภาพร้าน)</span></p>
                            <% } %>
                        </div>
                        <hr class="my-2">
                        <div class="py-2 mt-2">
                            <a class=" bg-green-500 p-1 transition duration-200 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-bold rounded text-sm text-black text-center md:mr-0" href="/restaurant/<%= restaurant._id %>/manage">จัดการ</a>
                            <a class=" bg-yellow-500 p-1 transition duration-200 hover:bg-yellow-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-bold rounded text-sm text-black text-center md:mr-0" href="/restaurant/<%= restaurant._id %>/edit">แก้ไขข้อมูล</a>
                            <a class="text-white bg-red-500 p-1 transition duration-200 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded text-sm text-center md:mr-0" href="/api/restaurant/delete?id=<%= restaurant._id %>">ลบ</a>
                        </div>
                    </div>
                <% }) %>
            </div>
            
        </div>
    </div>
        <%- include('../../include/footer') %>